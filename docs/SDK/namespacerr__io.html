<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LightsprintSDK: rr_io Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LightsprintSDK<span id="projectnumber">&#160;2021.08.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacerr__io.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rr_io Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac58cf19a99df1b94dfd405336a2ca1e5"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="_i_o_8h.html#af63fd7ca697d20fae3b0e2becc1cb615">RR_IO_API</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacerr__io.html#ac58cf19a99df1b94dfd405336a2ca1e5">registerIO</a> (int argc, char **argv, unsigned step=0)</td></tr>
<tr class="separator:ac58cf19a99df1b94dfd405336a2ca1e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef0cc338760850bea2309061ef25d81"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="_i_o_8h.html#af63fd7ca697d20fae3b0e2becc1cb615">RR_IO_API</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacerr__io.html#a6ef0cc338760850bea2309061ef25d81">isolateIO</a> (int argc, char **argv)</td></tr>
<tr class="separator:a6ef0cc338760850bea2309061ef25d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>LightsprintIO - import and export of scenes, textures, vertex buffers, videos, materials. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac58cf19a99df1b94dfd405336a2ca1e5" name="ac58cf19a99df1b94dfd405336a2ca1e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58cf19a99df1b94dfd405336a2ca1e5">&#9670;&#160;</a></span>registerIO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_i_o_8h.html#af63fd7ca697d20fae3b0e2becc1cb615">RR_IO_API</a> rr_io::registerIO </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>step</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers callbacks for loading and saving scenes, textures and videos in ~75 fileformats (<a class="el" href="supported_formats.html">Supported formats</a>). </p>
<p>After registering loaders and savers, use</p><ul>
<li><a class="el" href="classrr_1_1_r_r_scene.html#a8dcc9a0d0805942f5e6b1558c6b7f671" title="Creates empty scene.">rr::RRScene::RRScene</a>("filename.ext") to load 3d scenes</li>
<li><a class="el" href="classrr_1_1_r_r_scene.html#a96528108537ab8cdccc0be9b8c827a6a" title="Saves 3d scene to file.">rr::RRScene::save</a>("filename.ext") to save 3d scenes</li>
<li><a class="el" href="classrr_1_1_r_r_buffer.html#abaf747f374a421d9f44b33aed8d201f1" title="Loads buffer from disk to system memory.">rr::RRBuffer::load</a>("filename.ext") to load 2d images, cube maps, vertex buffers, videos</li>
<li><a class="el" href="classrr_1_1_r_r_buffer.html#aef633298f526aa5c400c323bdba9e05b" title="Saves buffer to disk.">rr::RRBuffer::save</a>("filename.ext") to save 2d images, vertex buffers</li>
<li><a class="el" href="classrr_1_1_r_r_buffer.html#abaf747f374a421d9f44b33aed8d201f1" title="Loads buffer from disk to system memory.">rr::RRBuffer::load</a>("c@pture") to capture live video</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Copy of your main() argument. Used only for import isolation on non-Windows platforms, can be 0 otherwise. </td></tr>
    <tr><td class="paramname">argv</td><td>Copy of your main() argument. Used only for import isolation on non-Windows platforms, can be nullptr otherwise. </td></tr>
    <tr><td class="paramname">step</td><td>Keep empty. Only if you need to register your own isolated loader for fileformat already supported by LightsprintIO, all without modifying LightsprintIO, call registerIO(1); registerYourLoader(); registerIO(2); <a class="el" href="namespacerr__io.html#a6ef0cc338760850bea2309061ef25d81" title="Isolates scene loaders and saver, makes them run in separated processes.">isolateIO()</a>; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ef0cc338760850bea2309061ef25d81" name="a6ef0cc338760850bea2309061ef25d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef0cc338760850bea2309061ef25d81">&#9670;&#160;</a></span>isolateIO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_i_o_8h.html#af63fd7ca697d20fae3b0e2becc1cb615">RR_IO_API</a> rr_io::isolateIO </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Isolates scene loaders and saver, makes them run in separated processes. </p>
<p>Isolation increases robustness of main application, by protecting it against various ill effects of low quality importers and exporters. Although no problems are known within Lightsprint's importers/exporters, imagine that one day in future, you run e.g. into memory corruption problem. Without isolated importers, any part of codebase can be responsible for corruption, it's tough problem to debug. With isolation, importers/exporters are ruled out as a source of problem (they make more than 50% of lines of code in Lightsprint SDK).</p>
<p>When isolating loaders/savers, your program startup should look like </p><div class="fragment"><div class="line">register_your_non_isolated_loaders();</div>
<div class="line"><a class="code hl_function" href="namespacerr__io.html#ac58cf19a99df1b94dfd405336a2ca1e5">rr_io::registerIO</a>();</div>
<div class="line">register_your_isolated_loaders();</div>
<div class="line"><a class="code hl_function" href="namespacerr__io.html#a6ef0cc338760850bea2309061ef25d81">rr_io::isolateIO</a>();</div>
<div class="ttc" id="anamespacerr__io_html_a6ef0cc338760850bea2309061ef25d81"><div class="ttname"><a href="namespacerr__io.html#a6ef0cc338760850bea2309061ef25d81">rr_io::isolateIO</a></div><div class="ttdeci">void RR_IO_API isolateIO(int argc, char **argv)</div><div class="ttdoc">Isolates scene loaders and saver, makes them run in separated processes.</div></div>
<div class="ttc" id="anamespacerr__io_html_ac58cf19a99df1b94dfd405336a2ca1e5"><div class="ttname"><a href="namespacerr__io.html#ac58cf19a99df1b94dfd405336a2ca1e5">rr_io::registerIO</a></div><div class="ttdeci">void RR_IO_API registerIO(int argc, char **argv, unsigned step=0)</div><div class="ttdoc">Registers callbacks for loading and saving scenes, textures and videos in ~75 fileformats (Supported ...</div></div>
</div><!-- fragment --><p>Isolation works by rerunning our own executable as a separated process with special arguments each time scene needs to be imported. This function checks for special arguments and if found, it converts the scene to .rr3 and exits. Therefore you should run this function as soon in your application as possible (before all slow steps), and you should let it exit, if it needs to. Caller then imports newly created .rr3, and deletes it. If isolated process fails to import the scene or write it back as .rr3, caller tries to import the scene without isolation.</p>
<p>.rr3 fileformat is never isolated, it is used for transferring data between processes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Copy of your main() argument. Used only on non-Windows platforms, can be 0 otherwise. </td></tr>
    <tr><td class="paramname">argv</td><td>Copy of your main() argument. Used only on non-Windows platforms, can be nullptr otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacerr__io.html">rr_io</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
