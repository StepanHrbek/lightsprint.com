<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LightsprintSDK: Baking</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LightsprintSDK<span id="projectnumber">&#160;2021.08.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('technique_baking.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Baking</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Baked lighting is common approach today. Superior lighting quality is reached at cost of fixing lights in static positions, global illumination is precomputed.</p>
<p>Lightsprint SDK helps by baking</p><ul>
<li>lightmaps, directional lightmaps, ambient maps, environment maps, bent normals and light detail maps for static objects</li>
<li>lightfields for dynamic objects</li>
<li>unwrap, if you don't provide yours</li>
</ul>
<h1><a class="anchor" id="artist_offline_sceneviewer"></a>
SceneViewer tool</h1>
<p>SceneViewer is an interactive tool ready for immediate use in both static GI and realtime GI. It lets you build lightmaps, ambient occlusion, unwrap, manipulate lights, materials and geometry with immediate GI updates etc. <a class="el" href="samples_realtime.html">More about SceneViewer</a>. <br  />
 Run prebuilt version by bin/win32/SceneViewer.*.exe or bin/x64/SceneViewer.*.exe, or build your own version, source code is included.</p>
<h1><a class="anchor" id="artist_offline_buildlightmaps"></a>
BuildLightmaps tool</h1>
<p>BuildLightmaps is a commandline tool ready for immediate use. <a class="el" href="samples_offline.html">More about BuildLightmaps</a>. <br  />
 Enter LightsprintSDK/samples/BuildLightmaps directory and see .bat files that demonstrate how to use it (comments inside). Run BuildLightmaps.bat for complete list of commandline arguments. <br  />
 BuildLightmaps comes with source code, so programmers can customize it.</p>
<h1><a class="anchor" id="artist_offline_custom"></a>
Custom tools</h1>
<p>If you prefer lightmap building integrated into your existing tools (e.g. game editor), consult your programmers. Lightsprint functions are easily accessible for tool programmers, they were already integrated into several game editors.</p>
<h1><a class="anchor" id="artist_offline_geometry"></a>
Geometry</h1>
<p>Any triangle-based geometry is supported without restrictions. <br  />
 Scene size is virtually unlimited with 64bit code. With 32bit code, read how to relax <a class="el" href="trouble_memory.html">scene size limits</a>. <br  />
 In rare cases, artifacts may appear in proximity of huge triangles. Solution is to avoid or temporarily tessellate huge triangles.</p>
<h1><a class="anchor" id="artist_offline_materials"></a>
Materials</h1>
<p>All material types are supported. There's no need for any additional information, Lightsprint automatically converts your engine's native materials to Lightsprint materials used during calculation.</p>
<h1><a class="anchor" id="artist_offline_lights"></a>
Lights</h1>
<p>All light sources are supported - point, spot, directional, emissive materials, sky (flat color, LDR or HDR texture).</p>
<h1><a class="anchor" id="artist_offline_unwrap"></a>
Unwrap</h1>
<p>Lightsprint SDK supports both user-provided and automatically generated unwrap. SceneViewer and other samples let you build unwrap in single fully automatic step. If you build unwrap in third party tools like 3ds Max, export it as part of scene or model. Various scene formats have different ways of marking uv channel for lightmaps (unwrap). To test whether your unwrap is imported properly, open scene in SceneViewer sample and click Global illumination / Inspect unwrap. Click objects in Scene tree to see unwrap of different objects. You can try Global illumination / Build lightmaps with low quality just to see whether unwrap errors (e.g. missing unwrap) are reported. If you see only warnings, it's up to you to review calculated lighting, sometimes problems are hardly visible and may be ignored.</p>
<p>In order to better utilize lightmap space and reduce lightmap sizes and baking time, you want to reduce lightmap resolutions and gutter padding (horizontal or vertical distance between charts, usually 2 or 2.5 texels) as much as possible. However, if you reduce it too much, single texel will affect two charts, it will show up mapped to two different places in scene. Lightsprint is specially hardened for such situation and calculates the best possible compromise color to make this error as noteless as possible. With unwrap charts optimally aligned, gutter may be as small as 1 texel, without any errors. In worst case of unaligned charts, gutter must be at least 2 for perfect result.</p>
<h1><a class="anchor" id="artist_offline_formats"></a>
File formats</h1>
<p>Lightsprint SDK does not lock your data in properietary formats. Instead, it supports <a class="el" href="supported_formats.html">95+ standard file formats</a>. In case you pick Collada, here's list of available <a class="el" href="collada_plugins.html">Collada plugins</a>.</p>
<h1><a class="anchor" id="artist_offline_night"></a>
Night scenes</h1>
<p>When creating night scene, you might consider two options - reduce light intensity or make materials darker. Both have the same effect on direct illumination. But global illumination reveals dramatic difference - bright materials reflect lots of light and create rich indirect illumination with color bleeding; dark materials absorb light and hardly create any indirect illumination. So reducing light intensity simulates night in normal world; making all materials dark simulates day in world covered by black color. Of course we recommend keeping usual materials and reducing light intensity, results look better.</p>
<h1><a class="anchor" id="artist_offline_tangent"></a>
Tangent space</h1>
<p>Directional lightmaps (RNMs) approximate illumination by storing light incoming from 3 directions. These directions are derived from tangent basis - normal, tangent and bitangent. When using different tangent basis, lighting is approximated differently, and may be slightly brighter or darker. So if you need things to look identically, ensure that they use identical tangent bases or properly mirrored bases. Mirroring with RNMs is tricky, it works only in one axis, tangent or bitangent (depends on naming convention). When mirrored along wrong axis, RNMs use different set of directions and lighting differs.</p>
<h1><a class="anchor" id="artist_offline_penumbra"></a>
Soft or Penumbra shadows</h1>
<p>"Soft" shadows, shadows with smooth edges, can be created with smoothing parameter (BuildLightmaps: smoothing=, ToolBench: LsSmoothing, code: smoothingAmount or lightmapSmooth()). It makes all edges equally smooth.</p>
<p>"Penumbra" shadows, shadows of varying softness, are created when light does not come from single point but from multiple directions, either</p><ul>
<li>from sky (set sky/environment texture and make sure there are open windows or 'holes' in mesh so that skylight gets inside)</li>
<li>or from large surface with emissive material</li>
<li>or from cloud of 20+ lights (created manually or by your program)</li>
<li>or from realtime area light (supported only in Lightsprint's realtime renderer)</li>
</ul>
<p>"occlusion" option in BuildLightmaps tool also creates penumbra shadows, it works by setting white environment. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="main_techniques.html">Techniques</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
