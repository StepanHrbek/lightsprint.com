<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LightsprintSDK: Bent normals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LightsprintSDK<span id="projectnumber">&#160;2021.08.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('data_bent_normals.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Bent normals</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="db1"></a>
Bent normals</h1>
<p>Bent normals on <a href="http://en.wikipedia.org/wiki/Ambient_occlusion">Wikipedia</a></p>
<p>Bent normals store negation of incoming light direction, in world space. Light may come to surface point form many directions in different intensities, so bent normals average all directions, taking light intensity into account. <br  />
 Bent normals are normalized.</p>
<h1><a class="anchor" id="db2"></a>
Data structures</h1>
<p>Lightsprint can store object's bent normals in</p>
<ul>
<li><b> <a class="el" href="data_vertex_buffer.html">Vertex buffer</a> </b></li>
<li><b> <a class="el" href="data_pixel_buffer.html">Pixel buffer</a> </b></li>
</ul>
<p>Bent normals stored in pixel buffer are automatically transformed from -1..1 space to 0..1 space to support save to unsigned RGB textures. When reading bent normal from such texture, get original world space normal as bn*2-1.</p>
<h1><a class="anchor" id="db3"></a>
Calculation</h1>
<p>Calculation of bent normals is non-realtime process. To calculate bent normals, use <a class="el" href="classrr_1_1_r_r_solver.html#a123529338f03195a6233b53e5100a009" title="For all static objects, calculates and updates lightmap and/or bent normal; in per-pixel or per-verte...">RRSolver::updateLightmaps()</a> and set bent normal layer accordingly.</p>
<p>Bent normals are intentionally stored in different layer than ilumination, so you can reuse single bent normal layer with multiple illumination layers to save memory or storage space (at cost of slightly reduced precision).</p>
<p>See data structures (links above) for more details on calculation.</p>
<h1><a class="anchor" id="db4"></a>
Use in renderer</h1>
<p>Bent normals are optional enhancement of precomputed illumination. They are used in rendering to make specular reflections and normal maps look more realistically, even with lighting precomputed in lightmaps.</p>
<p>See data structures (links above) for more details on rendering. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="main_data_access.html">Calculation and outputs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
