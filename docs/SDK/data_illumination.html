<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LightsprintSDK: Illumination</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LightsprintSDK<span id="projectnumber">&#160;2021.08.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('data_illumination.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Illumination</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="di1"></a>
Directional lightmaps / vertex colors</h1>
<p>While building lightmaps, Lightsprint gathers information about light directions. This information is optionally returned in two formats.</p>
<ol type="1">
<li>Directional component is stored as 3 separated lightmaps or vertex buffers built as if surface normals are modified in 3 different directions. Result is compatible with Unreal Engine 3 directional lightmaps. 3 lightmaps are sufficient for rendering, but together with standard non-directional lightmap (=fourth direction), all 4 lightmaps can be used for even higher precision.</li>
<li>Directional component of lightmap or vertex buffer is stored separately from irradiance component. See <a class="el" href="data_bent_normals.html">Bent normals</a> for details on directional component.</li>
</ol>
<h1><a class="anchor" id="di2"></a>
Global illumination lightmaps</h1>
<p>Global illumination lightmaps are precomputed with infinite light bounces, color bleeding and physically correct penumbra shadows from area lights. For mostly static scenes, precomputed GI lightmaps make very good sense.</p>
<p>Global illumination usually contains sharp shadow edges, so it's not practical to store it per vertex in vertex buffer (result would be too blurry).</p>
<h1><a class="anchor" id="di3"></a>
Ambient maps, per-vertex ambient</h1>
<p>Ambient maps and per-vertex ambient contain indirect component of illumination with infinite light bounces, color bleeding and indirect shadows; it's complete global illumination except for first light bounce.</p>
<p>In scenarios with mixed static / dynamic objects, it's often advantageous to compute indirect illumination only and mix it with realtime rendered direct illumination with direct shadows.</p>
<p>Per-pixel or per-vertex? <br  />
 Unlike global illumination, indirect illumination doesn't contain sharp shadow edges, so it's usually practical to store it per-vertex in vertex color buffer. Per-vertex ambient is slightly less precise in some situations, but it usually takes much less memory, so it's worth considering in memory restricted environments. In realtime scenarios, per-vertex ambient is preferred for higher speed over ambient maps.</p>
<p>Ability to generate ambient maps or per vertex ambient is <b>fundamental for realtime global illumination</b>. To render realtime global illumination, start with renderer with direct illumination and shadows and add ambient map or per vertex ambient computed by Lightsprint. Realtime per-vertex ambient is preferred for much higher speed.</p>
<h1><a class="anchor" id="di4"></a>
Environment maps</h1>
<p>Environment maps store light incoming from all directions to single point in space. They are usually used to approximate light incoming to dynamic object. <br  />
 Environment maps may be processed so that single environment map lookup returns light incoming from single direction (specular environment map) or from whole hemisphere (diffuse environment map).</p>
<p>See <a class="el" href="data_environment_map.html">Environment map</a> for more details.</p>
<h1><a class="anchor" id="di5"></a>
Other</h1>
<p>Outside most widely used global illumination lightmaps, per vertex ambient, ambient maps and environment maps, Lightsprint supports many other illumination types suitable for specific situations. Depending on parameters you pass to lighting calculation process, you can get direct only lighting, mix of independently enabled direct and indirect lighting from many light source types etc, with result stored in texture or vertex buffer, with optional directional component.</p>
<h1><a class="anchor" id="di6"></a>
Data structures</h1>
<p>Lightsprint can store object's illumination in</p>
<ul>
<li><b> <a class="el" href="data_vertex_buffer.html">Vertex buffer</a> </b></li>
<li><b> <a class="el" href="data_pixel_buffer.html">Pixel buffer</a> </b></li>
<li><b> <a class="el" href="data_environment_map.html">Environment map</a> </b></li>
</ul>
<h1><a class="anchor" id="di7"></a>
Calculation</h1>
<p>Calculation of illumination is realtime or non-realtime process, depending on parameters set. Environment maps are always computed in realtime speeds.</p>
<p>See data structures (links above) for more details on calculation.</p>
<h1><a class="anchor" id="di8"></a>
Use in renderer</h1>
<p>See data structures (links above) for more details on use in renderer. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="main_data_access.html">Calculation and outputs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
